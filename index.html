<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whether</title>
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- javascript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    </head>

<body style="background-image:linear-gradient(to  bottom right , red,orange,red); background-repeat: no-repeat;height: 100vh;">
    <div class="container-fluid">
        <div class="row w-100">
            <div class="d-flex flex-column flex-md-row justify-content-center align-items-center mt-5">
                <h1 style="font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;text-align: center;">
                    Weather Information</h1>
                <input id="input" type="text" class="form-control bg-transparent  ms-2 my-2 my-md-0 w-75 w-md-25" placeholder="city name">
                <button class="btn btn-outline-dark ms-2" onclick=check()>Check</button>
            </div>
        </div>
        
            <div id="container">
                <div class="row w-100 d-flex flex-row">
                    <div class="col-md-2"></div>
                    <div id ="output1"class="col-md-3 mt-5">
        
                    </div>
                    <div class="col-md-2 "></div>
                    <div id="output2"class="col-md-3 mt-5">
        
                    </div>
                    <div class="col-md-2"></div>
                </div>
                <div class="row w-100">
                    <div class="col-md-2"></div>
                    <div id="output3"class="col-md-8 d-flex justify-content-center align-items-center mt-1">
                    </div>
                    <div class="col-md-2"></div>
                </div>
                <div id="clear" class="d-flex justify-content-center align-items-center ">

                </div>
            
            </div>
           
    </div>

</body>
<script>
    function check() {
        const time=new Date()
        const hour=time.getHours()
        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${input.value}&appid=5fe36b192ffd1c36dffb6752bc1722b2`).then((result)=>{
        result.json().then((response)=>{console.log(response);
                    output1.innerHTML= `<h3>${(response.main.temp-273.15).toFixed(2)}à¥°C<span style="font-size:20px"> ${response.weather[0].main}</span></h3>
                    <p>feels like ${response.main.feels_like}</p>`
                    output2.innerHTML=`<h3>${response.name}<h3>
                                       <p style="font-size:20px">${time}</p>`
                                       if(hour>=19)
                                       {
                                        output2.innerHTML+=`<img src="https://media.istockphoto.com/id/162515751/photo/moon-over-mountains.jpg?s=612x612&w=0&k=20&c=mKsWiAqN8lOGl6bdnDg9ssY25RSJJbSOk3g0MuDZNXw=" alt="no image" style="height:40px; width:40px">`
                                       
                                       }
                                       else
                                       {
                                         
                                        output2.innerHTML+=`<img src="https://cdn-icons-png.freepik.com/512/9231/9231720.png" alt="no image" height="40px" width="40px">`
                                        
                                       }
                    output3.innerHTML= 
                 
                    `<table class="table table-responsive-sm table-dark table-striped rounded-3">
                    <thead>
                        <tr>
                            <th>Country Name</th>
                            <th>Humidity</th>
                            <th>Windspeed</th>
                            <th>Pressure</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>${response.sys.country}</td>
                            <td>${response.main.humidity}%</td>
                            <td>${response.wind.speed}Kmph</td>
                            <td>${response.main.pressure}</td>
                        </tr>
                    </tbody>
                </table>`
                clear.innerHTML=`<button class ="btn btn-success"onclick=refresh()>Clear</button>`
                const display=document.getElementsByTagName('body')[0]
                if(response.weather[0].main=='Mist')
                {
                    
                    display.style.backgroundImage='url(https://cdn.pixabay.com/photo/2022/02/19/22/48/forest-7023487_640.jpg)'
                    display.style.backgroundRepeat='no-repeat'
                    display.style.backgroundSize='cover'

                }
                else if(response.weather[0].main=='Clouds')
                {
                    display.style.backgroundImage='url(https://st5.depositphotos.com/37603430/69421/i/450/depositphotos_694210848-stock-photo-strangely-shaped-white-clouds-blue.jpg)'
                    display.style.backgroundRepeat='no-repeat'
                    display.style.backgroundSize='cover'

                }
                else if(response.weather[0].main=='Haze')
                {
                    display.style.backgroundImage='url(https://www.shutterstock.com/image-photo/blue-abstract-spiral-clouds-sky-260nw-1643293840.jpg'
                    display.style.backgroundRepeat='no-repeat'
                    display.style.backgroundSize='cover'

                }
                else if(response.weather[0].main=='Snow')
                {
                    display.style.backgroundImage='url(https://images.unsplash.com/photo-1418985991508-e47386d96a71?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHNub3d8ZW58MHx8MHx8fDA%3D)'
                    display.style.backgroundRepeat='no-repeat'
                    display.style.backgroundSize='cover'

                }
                else if(response.weather[0].main=='Rainy')
                {
                   display.style.backgroundImage='url(https://t4.ftcdn.net/jpg/01/63/96/63/360_F_163966311_qh3qSk57mw9oLPOklZigzX9zlB5DgdaM.jpg)'
                   display.style.backgroundRepeat='no-repeat'
                   display.style.backgroundSize='cover'

                }
                else if(response.weather[0].main=='Clear')
                {
                    display.style.backgroundImage='url(https://img.freepik.com/premium-photo/sun-shines-through-clouds-sunny-day_865967-998243.jpg)'
                    display.style.backgroundRepeat='no-repeat'
                    display.style.backgroundSize='cover'

                }
              

                })
        }).catch((err)=>{console.log(err);})
    }
    function refresh()
    {
        location.reload()
    }
</script>

</html>